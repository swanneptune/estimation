doctype html
html
  head
    meta(charset="utf-8")
    meta(name="viewport", content="width=device-width, initial-scale=1")
    meta(name="theme-color", content="#000000")
    meta(name="description", content="Web site created without using create-react-app")
    
    title Express Template

    link(rel="icon", href="/favicon.ico", type="image/x-icon")
    link(rel="apple-touch-icon", href="/img/logo192.png")
    link(rel="manifest", href="/manifest.json")
    
    link(rel='stylesheet', href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css')
    link(rel='stylesheet', href='https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap')
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css", integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC", crossorigin="anonymous")
    link(rel='stylesheet', href='/css/mdb.flags.css')
    link(rel='stylesheet', href='/css/style.css')

    script(type='text/javascript', src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous")

    block head
  body
    // Navbar
    nav.navbar.sticky-top.navbar-expand-lg.navbar-dark.bg-dark
      // Container wrapper
      .container-fluid
        // Toggle button
        button.navbar-toggler(type='button' data-mdb-toggle='collapse' data-mdb-target='#navbarSupportedContent' aria-controls='navbarSupportedContent' aria-expanded='false' aria-label='Toggle navigation')
          i.fas.fa-bars
        // Collapsible wrapper
        #navbarSupportedContent.collapse.navbar-collapse
          // Navbar brand
          a.navbar-brand.mt-2.mt-lg-0(href='/')
            img(src='/img/logo.svg' height='30' alt='Logo' loading='lazy')
            | Not REACT
        // Collapsible wrapper
        // Right elements
        .d-flex.align-items-center
          // Locale switch
          form#formLocale.dropdown
            a#navbarMenuLocales.btn.btn-outline-dark.text-reset.me-3.dropdown-toggle(href='#' role='button' data-bs-toggle='dropdown' aria-expanded='false')
              if (language == 'en')
                i.flag.flag-united-kingdom.m-0.me-2
                span.text-light.me-2 English
              else
                i.flag.flag-japan.m-0.me-2
                span.text-light.me-2 日本
            ul.dropdown-menu.dropdown-menu-end(aria-labelledby='navbarMenuLocales')
              li
                button#localeEn.dropdown-item(type='button')
                  i.flag.flag-united-kingdom
                  | English
                  if (language == 'en')
                    i.fa.fa-check.text-success.ms-2
              li
                button#localeJp.dropdown-item(type='button')
                  i.flag.flag-japan
                  | 日本
                  if (language == 'jp')
                    i.fa.fa-check.text-success.ms-2
          // Avatar
          .dropdown
            a#navbarMenuAvatar.dropdown-toggle.d-flex.align-items-center.hidden-arrow(href='#' role='button' data-bs-toggle='dropdown' aria-expanded='false')
              img.rounded-circle(src='/img/avatar.svg' height='35' alt='[]' loading='lazy')
            ul.dropdown-menu.dropdown-menu-end(aria-labelledby='navbarMenuAvatar')
              li
                a.dropdown-item(href='/admin')=t('Admin')
        // Right elements
      // Container wrapper
      .side-menu
        include ../includes/side-nav.pug
    // Navbar

    .container-fluid.d-flex.content-container(role="main")
      .sidebar-wrapper
      .container-fluid.right-content-container(style='padding-left:0')
        block content

    script(type='text/javascript', src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js", integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM", crossorigin="anonymous")
    script.
      $(document).ready(function() {
        const setCookie = function(cname, cvalue, exdays) {
          const d = new Date();
          d.setTime(d.getTime() + (exdays*24*60*60*1000));
          let expires = `expires=${d.toUTCString()}`;
          document.cookie = `${cname}=${cvalue};${expires};path=/`;
        };
        
        $('#localeEn').on('click', function(ev) {
          setCookie('locale', 'en', 365);
          $('#formLocale').submit();
        });
        $('#localeJp').on('click', function(ev) {
          setCookie('locale', 'jp', 365);
          $('#formLocale').submit();
        });
      });
